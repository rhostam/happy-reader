<div class="navbar-fixed" style="-webkit-app-region: drag;">
    <nav class="blue darken-3">
		<div class="nav-wrapper">
			<a ng-hide="fileOpened" href="#!" class="brand-logo center blue-grey-text text-lighten-4">Happy Reader</a>
			<a ng-show="fileOpened" class="brand-logo center blue-grey-text text-lighten-4" style="font-size: 1.7rem; -webkit-app-region: no-drag;">{{fileInfo.name}}</h2>
			<ul class="left" style="-webkit-app-region: no-drag;">
				<li>
					<a href="#!" ngf-select ng-model="files" ngf-change="fileSelected($files)">
						<i class="mdi-file-folder-open blue-grey-text text-lighten-4"></i>
					</a>
				</li>
			</ul>
			<ul class="right" style="-webkit-app-region: no-drag;">
				<li>
					<a href="#!" ng-click="closeWindow()">
						<i class="mdi-navigation-close blue-grey-text text-lighten-4"></i>
					</a>
				</li>
			</ul>
		</div>
    </nav>
</div>

<div class="progress" ng-show="isProcessing">
	<div class="indeterminate"></div>
</div>

<div ngf-drop id="holder" ng-model="files" ngf-change="fileSelected($files)" ngf-drag-over-class="hover" ng-hide="fileOpened||isProcessing">
	<div class="row center-align">
		<div class="col s12">
			<span class="flow-text drag-drop-text">Drag & Drop File Here</span>
		</div>
	</div>
</div>

<div class="row valign-wrapper" ng-show="fileOpened">
	<div class="col s4 l3 valign">
		<a class="modal-trigger waves-effect waves-light btn" href="#!" onclick="$('#modal1').openModal()"><i class="mdi-toggle-check-box left"></i>Field Selector</a>
	</div>
	<form class="col s4 offset-s4 l3 offset-l6">
		<div class="row">
			<div class="input-field col s6">
				<input id="start_index" type="number" ng-model="attrs.startIndex" min="1" required>
				<label class="active" for="start_index">Start Index</label>
			</div>
			<div class="input-field col s6">
				<input id="view_limit" type="number" ng-model="attrs.viewLimit" ng-change="changeViewLimit()" min="1" required>
				<label class="active" for="view_limit"># of Records</label>
			</div>
		</div>
	</form>
</div>

<div class="fixed-action-btn" ng-show="fileOpened" style="bottom: 24px; right: 24px;">
	<a class="btn-floating btn-large red" ng-click="seekRecord()">
		<i class="large mdi-content-add"></i>
	</a>
</div>

<!-- Modal Structure -->
<div id="modal1" class="modal">
	<div class="modal-content">
		<h4>Field Selector</h4>
		<form action="#">
			<ul>
				<li ng-repeat="field in attrs.selectedFields track by $index">
					<input type="checkbox" id="chkbox{{$index}}" ng-model="field.isSelected" />
      				<label for="chkbox{{$index}}">{{field.name}}</label>
				</li>
			</ul>
		</form>
	</div>
		<div class="modal-footer">
		<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Select</a>
	</div>
</div>

<div class="row" ng-show="fileOpened">
	<div class="col s12">
		<table class="hoverable">
			<thead>
				<tr>
					<th ng-repeat="field in attrs.selectedFields | filter:cellFilter track by $index">{{field.name}}</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="line in lines track by $index">
					<td ng-repeat="cell in line track by $index" ng-if="attrs.selectedFields[$index].isSelected">
						{{cell}}
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>